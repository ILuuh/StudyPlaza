<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cadastro - StudyPlaza</title>
  <link rel="icon" href="img/logo.png" type="imagem-logo">
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/cadastro.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
</head>

<body>

  <main class="container">



    <section aria-labelledby="register-title">
      <h2 id="register-title">Cadastro</h2>

      <form id="register-form" novalidate autocomplete="off" aria-label="Formulário de cadastro da plataforma">

        <div class="camposForm">
          <label for="nome">Nome completo</label>
          <input type="text" id="nome" name="nome" required aria-required="true" aria-describedby="nome-error" />
          <div id="nome-error" class="error-message" role="alert" aria-live="assertive"></div>
        </div>

        <div class="camposForm">
          <label for="email">Email</label>
          <input type="email" id="email" name="email" required aria-required="true" aria-describedby="email-error" />
          <div id="email-error" class="error-message" role="alert" aria-live="assertive"></div>
        </div>

        <div class="camposForm">
          <label for="interesses">Áreas de Interesse</label>

          <select id="interesses" name="interesses" required aria-required="true" aria-describedby="interesses-error">
            <option value="">Selecione uma área</option>
            <option value="Programação">Programação</option>
            <option value="Inteligência Artificial">Inteligência Artificial</option>
            <option value="Design">Design</option>
            <option value="Gestão do Tempo">Gestão do Tempo</option>
            <option value="Matemática">Matemática</option>
            <option value="Redação">Redação</option>
            <option value="Biologia">Biologia</option>
            <option value="História">História</option>
            <option value="Química">Química</option>
            <option value="Física">Física</option>
          </select>

          <div id="interesses-error" class="error-message" role="alert" aria-live="assertive"></div>
        </div>

        <button type="submit">Cadastrar</button>

        <div id="form-feedback" class="form-feedback" role="alert" aria-live="polite"></div>

      </form>

    </section>

  </main>

  <footer>
    &copy; 2025 StudyPlaza - Todos os direitos reservados.
  </footer>

  <script>
    const form = document.getElementById('register-form');
    const nomeInput = form.nome;
    const emailInput = form.email;
    const interessesInput = form.interesses;

    const nomeError = document.getElementById('nome-error');
    const emailError = document.getElementById('email-error');
    const interessesError = document.getElementById('interesses-error');
    const formFeedback = document.getElementById('form-feedback');

    function showError(input, errorElem, message) {
      errorElem.textContent = message;
      errorElem.style.display = 'block';
      input.classList.add('input-error');
      input.setAttribute('aria-invalid', 'true');
    }

    function clearError(input, errorElem) {
      errorElem.textContent = '';
      errorElem.style.display = 'none';
      input.classList.remove('input-error');
      input.removeAttribute('aria-invalid');
    }

    function validateEmail(email) {
      const re = /^[\w-.]+@([\w-]+\.)+[\w-]{2,4}$/;
      return re.test(String(email).toLowerCase());
    }

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      let valid = true;

      if (nomeInput.value.trim().length < 3) {
        showError(nomeInput, nomeError, 'Por favor, insira um nome válido (mínimo 3 caracteres).');
        valid = false;
      } else {
        clearError(nomeInput, nomeError);
      }

      if (!validateEmail(emailInput.value.trim())) {
        showError(emailInput, emailError, 'Por favor, insira um e-mail válido.');
        valid = false;
      } else {
        clearError(emailInput, emailError);
      }

      if (!interessesInput.value) {
        showError(interessesInput, interessesError, 'Por favor, selecione uma área de interesse.');
        valid = false;
      } else {
        clearError(interessesInput, interessesError);
      }

      if (valid) {
        formFeedback.style.color = 'green';
        formFeedback.textContent = '✅ Cadastro realizado com sucesso!';
        form.reset();
      } else {
        formFeedback.style.color = '#e74c3c';
        formFeedback.textContent = 'Por favor, corrija os campos destacados.';
      }
    });
  </script>
</body>

</html>